
## Name of the submakefile generated by coq_makefile
COQMKFILENAME=CoqSrc.mk

all: coq

quick:  $(COQMKFILENAME) $(shell ls *.v)
	@$(MAKE) -f CoqSrc.mk quick

coq: $(COQMKFILENAME) $(shell ls *.v)
	@$(MAKE) -f CoqSrc.mk -

html: $(COQMKFILENAME) $(shell ls *.v)
	@$(MAKE) -f CoqSrc.mk html

%.vo: %.v
	@$(MAKE) -f CoqSrc.mk $*.vo

$(COQMKFILENAME): Makefile $(shell ls *.v)
	coq_makefile -arg '-w -variable-collision,-meta-collision,-require-in-module' -f _CoqProject -o $(COQMKFILENAME)

coqclean:
	rm -if *.v-e *.v.d *.vo *.glob *.vos *.vok $(COQMKFILENAME)

clean: coqclean
